import { rest } from 'msw';

export const handler = [
  rest.get('http://localhost:3030/patentes', (req, res, ctx) => {
    return res(
      ctx.json([{abstract_en:["\nA method is provided for facilitating communications between a computer device and a smart card reader having an associated smart card. The computer device includes a smart card resource manager and a smart card reader service, the smart card reader service acting as a relay for commands between the smart card resource manager and the smart card reader. The method comprising the smart card reader service: (a) receiving from the smart card resource manager a first command for placing the smart card in a first state and relaying the first command to the smart card reader; (b) receiving a second command from the smart card resource manager for placing the smart card into a second state and a third command from the smart card resource manager for placing the smart card into the first state; and (c) determining if the smart card was in the first state prior to receiving the second command, and (i) if the smart card is determined to have been in the first state then forgoing relaying the second command and the third command to the smart card reader, and (ii) if the smart card is not determined to have been in the first state, then relaying the second command and the third command to the smart card reader.\n\n"],claims_en:["\nA method of facilitating communications between a computer device (100) and a smart card reader (110) having an associated smart card (334), the computer device comprising a smart card resource manager (412) and a smart card reader service (910), the smart card reader service (910) acting as a relay for commands between the smart card resource manager (412) and the smart card reader (110), the method comprising the smart card reader service (910):\nreceiving from the smart card resource manager (412) a first command for placing the smart card (334) in a first state and relaying the first command to the smart card reader (110);\nreceiving a second command from the smart card resource manager (412) for placing the smart card (334) into a second state and a third command from the smart card resource manager (412) for placing the smart card (334) into the first state; and\ndetermining if the smart card (334) was in the first state prior to receiving the second command, and (i) if the smart card (334) is determined to have been in the first state then forgoing relaying the second command and the third command to the smart card reader (110), and (ii) if the smart card (334) is not determined to have been in the first state, then relaying the second command and the third command to the smart card reader (110).","\nThe method of claim 1 wherein determining if the smart card was in the first state prior to receiving the second command comprises determining if any smart card state altering commands were relayed to the smart card reader between relaying the first command to the smart card reader and receiving the second command.","\nThe method of claim 2 wherein the smart card reader service determines that a smart card state altering command has been relayed if any application protocol data unit 'APDU' was received from the smart card resource manager between relaying the first command to the smart card reader and receiving the second command.","\nThe method of claim 2 wherein determining if a smart card altering command has been relayed comprises comparing any APDU received from the smart card resource manager between relaying the first command to the smart card reader and receiving the second command with a list of known APDUs and determining in dependence thereon if the received APDU is a smart card altering command.","\nThe method of any one of claims 1 to 4 wherein the step of determining if the smart card (334) was in the first state prior to receiving the second command further comprises determining if the third command is received within a predetermined time duration of the second command, and forgoing relaying the second command and the third command to the smart card reader occurs only if the third command is received within the predetermined time duration of the second command, and if the third command is not received within the predetermined time duration of the second command then the second and third commands are relayed to the smart card reader.","\nThe method of any one of claims 1 to 5 wherein the first command and the third command are each cold reset commands, the first state is a reset state, and the second command is a power off command.","\nThe method of claim 6 comprising receiving at the computer device a smart card insert message from the smart card reader and providing the first cold reset command to the smart card reader service in response to the received smart card insert message.","\nThe method of any one of claims 1 to 7 wherein the smart card reader service relays commands to the smart card reader using a wireless communications link.","\nThe method of any one of claims 1 to 8 wherein the smart card reader service relays commands to the smart card reader through a Bluetooth Application Programming Interface 'API' (914) installed on the computer device.","\nThe method of any one of claims 1 to 9 wherein the second command and the third command are received by the smart card reader service without any intervening commands.","\nA computer device (100) for communicating over a wireless communications link with a smart card reader (110) having an associated smart card (334), the computer device comprising:\na smart card resource manager (412) for providing commands for the smart card reader (110) ; and\na smart card reader service (910) for selectively relaying and filtering commands received from the smart card resource manager (412) for the smart card reader (110), the smart card reader service (910) being configured for:\nreceiving from the smart card resource manager (412) a first command for placing the smart card (334) in a first state and relaying the first command to the smart card reader;\nreceiving a second command from the smart card resource manager (412) for placing the smart card (334) into a second state and a third command from the smart card resource manager (412) for placing the smart card (334) into the first state; and\ndetermining if the smart card (334) was in the first state prior to receiving the second command, and (i) if the smart card (334) is determined to have been in the first state then forgoing relaying the second command and the third command to the smart card reader (110), and (ii) if the smart card (334) is not determined to have been in the first state, then relaying the second command and the third command to the smart card reader (110).","\nThe device of claim 11 wherein the smart card reader service is configured for determining if the smart card was in the first state prior to receiving the second command by determining if any smart card state altering commands were relayed to the smart card reader between relaying the first command to the smart card reader and receiving the second command.","\nThe device of claim 12 wherein the smart card reader service is configured to determine that a smart card state altering command has been relayed if any application protocol data unit 'APDU' was received from the smart card resource manager between relaying the first command to the smart card reader and receiving the second command.","\nThe device of claim 12 wherein the smart card reader service is configured for determining if a smart card altering command has been relayed by comparing any APDU received from the smart card resource manager between relaying the first command to the smart card reader and receiving the second command with a list of known APDUs and determining in dependence thereon if the received APDU is a smart card altering command.","\nThe device of any one of claims 11 to 14 wherein the smart card reader service is configured for determining if the third command is received within a predetermined time duration of the second command, and to forgo relaying the second command and the third command to the smart card reader occurs only if the third command is received within the predetermined time duration of the second command, and if the third command is not received within the predetermined time duration of the second command then to relay the second and third commands to the smart card reader.","\nThe device of any one of claims 11 to 15 wherein the first command and the third command are each cold reset commands, the first state is a reset state, and the second command is a power off command.","\nThe device of claim 16 wherein the smart card resource manager is configured to produce the first command after the device receives a smart card insert message from the smart card reader.","\nThe device of any one of claims 11 to 17 wherein the smart card resource manager is configured to provide the second command and the third command to the smart card reader service without any intervening commands.","\nThe device of any one of claims 11 to 19 comprising:\na smart card reader driver (414) through which the smart card reader service (910) is configured to receive commands from the smart card resource manager (412); and\nmemory (218) that is divided into a user space (240) and a kernel space (238), with code for implementing the smart card reader service (910) and the smart card resource manager (412) residing in the user space (240) and code for implementing the smart card reader driver (414) residing in the kernel space (238).","\nA computer program product comprising a computer readable medium carrying instructions for a computer processor to cause a computing device (100) to perform the method of any one of claims 1 to 10."]}])
    );
  })
];